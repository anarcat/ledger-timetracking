How to plug time entries into (h)ledger
=======================================

The [ledger file](ledger.lgr) file includes a [timelog](timelog). The
ledger file issues a bill with the timelog entries and receives a
payment against the bill.

The timelog is separate to make interaction with other tools,
e.g. `timeclock.el` or, in my case, [org-mode][]'s "clock" system with
[John Wiegley's org2tc script][].

It looks like this:

    $ ledger -f ledger.lgr bal
                     €10  assets:cash
                  10.00h
                    €-10  revenues:client
    --------------------
                  10.00h

Notice how the ledger is unbalanced. But that's because the time
entries are "virtual" and not balanced against any account. To ignore
those, use:

    $ ledger -f ledger.lgr bal -B --real
                     10€  assets:cash
                    -10€  revenues:client
    --------------------
                       0

Issues
======

HLedger bug
-----------

But this fails in hledger:

    $ hledger -f ledger.lgr bal
    creating default conversion rules file /home/anarcat/notes/tt-test/test.lgr.rules, edit this file for better results
    hledger: "/home/anarcat/notes/tt-test/test.lgr" (line 1, column 1):
    unexpected 'a'
    expecting journal transaction or directive or end of input
    1$ 

Of course, it chokes on the `apply account` directive from ledger. But
even using the regular `hledger` include fails:

    $ hledger -f hledger.lgr bal
    using conversion rules file /home/anarcat/notes/tt-test/test.hlgr.rules
    hledger: "/home/anarcat/notes/tt-test/test.hlgr" (line 2, column 1) in included file "test.timelog":
    "/home/anarcat/notes/tt-test/test.timelog" (line 1, column 1):
    unexpected 'i'
    expecting journal transaction or directive or end of input
    1$ 

I may be able to feed the timetracking data directly in the
`hledger.lgr` file, but
that's rather painful: i'd like to keep that messy file separate from
the main accounting.

[org-mode]: http://orgmode.org
[John Wiegley's org2tc script]: https://github.com/jwiegley/org2tc
